<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets">

<f:metadata>
	<f:viewParam name="realmID" value="#{realmDetails.paramRealmID}" />
</f:metadata>

<f:view>
	<ui:composition template="/realmsTemplate.xhtml">

		<ui:define name="header_content">
			<script src="http://maps.google.com/maps/api/js?sensor=false"
				type="text/javascript"></script>
		</ui:define>

		<ui:define name="content">
			<center>
				<h:form prependId="false">
					<p:panel styleClass="normal_text" style="width: 90%; height: 150%">
						<f:facet name="header">
							<h:outputFormat value="#{msgs['realm.edit.title']}">
								<f:param value="#{realmDetails.realm.name}" />
							</h:outputFormat>
						</f:facet>
						<p:layout fullPage="false" style="width: 100%;height: 600px">
							<p:layoutUnit position="west" size="200"
								header="#{msgs['realm.edit.tools']}" resizable="true"
								collapsible="true" effect="drop">
								<h:outputText value="Add Marks Mode" />
								<p:selectBooleanCheckbox id="addMarkCheckbox"
									value="#{realmDetails.addMarksMode}" />
							</p:layoutUnit>

							<p:layoutUnit position="east" size="200"
								header="#{msgs['realm.edit.properties']}" resizable="true"
								collapsible="true" effect="drop">
								
							</p:layoutUnit>

							<p:layoutUnit position="center">
								<p:gmap id="map" center="#{realmDetails.mapParams.center}"
									zoom="#{realmDetails.mapParams.zoom}" type="ROADMAP"
									model="#{realmDetails.mapModel}" widgetVar="detailsMap"
									style="width:100%;height:90%">
									<p:ajax event="stateChange"
										listener="#{realmDetails.onStateChange}" />
									<p:ajax event="pointSelect"
										listener="#{realmDetails.onPointSelect}" update="@this" />
									<p:ajax event="markerDrag"
										listener="#{realmDetails.onMarkerDrag}" update="@this" />
									<p:ajax event="overlaySelect"
										listener="#{realmDetails.onMarkerSelect}" update="@this" />
								</p:gmap>
							</p:layoutUnit>
						</p:layout>
					</p:panel>
				</h:form>
			</center>
		</ui:define>

	</ui:composition>

</f:view>
</html>
